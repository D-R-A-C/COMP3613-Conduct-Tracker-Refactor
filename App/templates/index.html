{% extends "layout.html" %}
{% block title %}Search{% endblock %}
{% block page %}Dashboard{% endblock %}

{{ super() }}

{% block content %}
<main class="main-container">
        <!--   View Students Section -->
        <div class="area-1">
            <div class="search" style="max-width:40vw; padding-top:20px;">
              <form class="search-form text-center" action="/dashboard" method="POST">
              <input type="text" class="search-input" name="keyword" placeholder="Enter student name or id">
                <button type="submit" style="margin:10px 0 10px 0" class="red search-btn waves-effect waves-dark btn btn-small">
                    SEARCH <i class="material-icons left"> search </i>
                </button>
              </form>
            </div>
            <section class="card-container" >
                {%for student in students%}
                <div class="card student-card">
                    <div class="card-content">
                        <h5 style="margin-bottom: 20px;">{{student.firstName}} {{student.lastName}}</h5>
                        <p> Student ID: {{student.id}}</p>
                        <p> Faculty: {{student.faculty}}</p>
                        <p> Programme: {{student.programme}}</p>
                        <h5 style="margin-top:10px;">
                            <p> {{student.get_karma()}}</p>
                        </h5>
                      <div class="btn-wrapper">
                        <a class="waves-effect red accent-5 waves-dark btn" id="review-btn" href="/students/{{student.id}}">
                            <i class="material-icons left"> library_add </i> Review </a>
                      </div>
                    </div>
                </div>
                {%endfor%}
            </section>
        </div>
        <!-- /End of View Students-->
      
       
  <!--CSS -->
<style>
    html{
      height:100vh;
    }
  
    .main-container {
      display:flex;
      height: 100vh;
      width:55vw;
    }
    
    .area-1 {
      overflow-y: scroll;   
      flex: 1;
      height: inherit;
    }
   
    .card-container {
      overflow-y: visible;
      display: flex;
      justify-content: space-around;
      flex-wrap: wrap;
      height: inherit;
    }

    .card{
      margin: 0px 0px 10%x 0px;
    }
  
    .student-card {
      width: 240px;
      max-height: 40%;
      max-width: 100%;
    }
    
    .btn {
      margin-top: 10px;
      border-radius: 20px;
    }
    .btn-wrapper{
      display: flex;
      justify-content: flex-start;
      left: 10%;
      bottom: 10%;
    }
    .area-2 {
      padding: 0px 2%;
      max-width:25%;
    }
    .review-container{
      margin-bottom: 20%;
    }
  
    .reviews-list {
      width: 100%;
      overflow-y: scroll;
      max-height: 50%;
      padding-top: 5%;
      flex: 1;
    }
  
    input[type=text] {
      border: 1px solid grey !important;
      box-shadow: 0 1px 1px 0 red!important;
      padding:2px 8px!important;
    }
  
    #create-review{
      position:relative;
    }
  
    .review-card{
      width:100%;
      bottom: 10px;
      border: 1px solid;
      box-shadow: 0 1px 0 0 purple!important;
    }
    .align-right{
      display: flex;
      justify-content: flex-end;
    }
    .delete{
      margin-left: 5px;
      margin-top:-10px;
      margin-bottom:10px;
    }
    </style>
  <!-- /End CSS -->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
      <script> M.AutoInit(); </script>

    </main>
{% endblock %}
{{ super() }}
